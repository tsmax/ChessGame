# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'chess.ui'
#
# Created by: PyQt5 UI code generator 5.15.4
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


from PyQt5 import QtCore, QtGui, QtWidgets
import sys


class MainWindow(QtWidgets.QMainWindow):
    def __init__(self, game):
        super(MainWindow, self).__init__()
        self.game = game
        self.setupUi()

    def setupUi(self):
        self.white_background_color = 'rgb(193, 245, 219)'
        self.black_background_color = 'rgb(83, 154, 119)'
        self.background_color = 'rgb(255, 215, 246)'
        self.selected_background_color = 'rgb(250, 255, 155)'

        self.setObjectName("MainWindow")
        self.resize(592, 644)
        self.setStyleSheet("background-color: {};".format(self.background_color))
        self.centralwidget = QtWidgets.QWidget(self)
        self.centralwidget.setObjectName("centralwidget")
        self.board = QtWidgets.QLabel(self.centralwidget)
        self.board.setGeometry(QtCore.QRect(70, 90, 400, 400))
        self.board.setText("")
        self.board.setPixmap(QtGui.QPixmap("images/desk.png"))
        self.board.setObjectName("board")
        self.black_king = QtWidgets.QLabel(self.centralwidget)
        self.black_king.setGeometry(QtCore.QRect(270, 90, 50, 50))
        self.black_king.setStyleSheet("background-color: {};".format(self.white_background_color))
        self.black_king.setText("")
        self.black_king.setPixmap(QtGui.QPixmap("images/black_king.png"))
        self.black_king.setObjectName("black_king")
        self.black_bishop_c = QtWidgets.QLabel(self.centralwidget)
        self.black_bishop_c.setGeometry(QtCore.QRect(170, 90, 50, 50))
        self.black_bishop_c.setStyleSheet("background-color: {};".format(self.white_background_color))
        self.black_bishop_c.setText("")
        self.black_bishop_c.setPixmap(QtGui.QPixmap("images/black_bishop.png"))
        self.black_bishop_c.setObjectName("black_bishop_c")
        self.black_knight_g = QtWidgets.QLabel(self.centralwidget)
        self.black_knight_g.setGeometry(QtCore.QRect(370, 90, 50, 50))
        self.black_knight_g.setStyleSheet("background-color: {};".format(self.white_background_color))
        self.black_knight_g.setText("")
        self.black_knight_g.setPixmap(QtGui.QPixmap("images/black_knight.png"))
        self.black_knight_g.setObjectName("black_bishop_g")
        self.black_rook_a = QtWidgets.QLabel(self.centralwidget)
        self.black_rook_a.setGeometry(QtCore.QRect(70, 90, 50, 50))
        self.black_rook_a.setStyleSheet("background-color: {};".format(self.white_background_color))
        self.black_rook_a.setText("")
        self.black_rook_a.setPixmap(QtGui.QPixmap("images/black_rook.png"))
        self.black_rook_a.setObjectName("black_rook_a")
        self.black_pawn_b = QtWidgets.QLabel(self.centralwidget)
        self.black_pawn_b.setGeometry(QtCore.QRect(120, 140, 50, 50))
        self.black_pawn_b.setStyleSheet("background-color: {};".format(self.white_background_color))
        self.black_pawn_b.setText("")
        self.black_pawn_b.setPixmap(QtGui.QPixmap("images/black_pawn.png"))
        self.black_pawn_b.setObjectName("black_pawn_b")
        self.black_pawn_d = QtWidgets.QLabel(self.centralwidget)
        self.black_pawn_d.setGeometry(QtCore.QRect(220, 140, 50, 50))
        self.black_pawn_d.setStyleSheet("background-color: {};".format(self.white_background_color))
        self.black_pawn_d.setText("")
        self.black_pawn_d.setPixmap(QtGui.QPixmap("images/black_pawn.png"))
        self.black_pawn_d.setObjectName("black_pawn_d")
        self.black_pawn_f = QtWidgets.QLabel(self.centralwidget)
        self.black_pawn_f.setGeometry(QtCore.QRect(320, 140, 50, 50))
        self.black_pawn_f.setStyleSheet("background-color: {};".format(self.white_background_color))
        self.black_pawn_f.setText("")
        self.black_pawn_f.setPixmap(QtGui.QPixmap("images/black_pawn.png"))
        self.black_pawn_f.setObjectName("black_pawn_f")
        self.black_pawn_h = QtWidgets.QLabel(self.centralwidget)
        self.black_pawn_h.setGeometry(QtCore.QRect(420, 140, 50, 50))
        self.black_pawn_h.setStyleSheet("background-color: {};".format(self.white_background_color))
        self.black_pawn_h.setText("")
        self.black_pawn_h.setPixmap(QtGui.QPixmap("images/black_pawn.png"))
        self.black_pawn_h.setObjectName("black_pawn_h")
        self.white_rook_h = QtWidgets.QLabel(self.centralwidget)
        self.white_rook_h.setGeometry(QtCore.QRect(420, 440, 50, 50))
        self.white_rook_h.setStyleSheet("background-color: {};".format(self.white_background_color))
        self.white_rook_h.setText("")
        self.white_rook_h.setPixmap(QtGui.QPixmap("images/white_rook.png"))
        self.white_rook_h.setObjectName("white_rook_h")
        self.white_pawn_g = QtWidgets.QLabel(self.centralwidget)
        self.white_pawn_g.setGeometry(QtCore.QRect(370, 390, 50, 50))
        self.white_pawn_g.setStyleSheet("background-color: {};".format(self.white_background_color))
        self.white_pawn_g.setText("")
        self.white_pawn_g.setPixmap(QtGui.QPixmap("images/white_pawn.png"))
        self.white_pawn_g.setObjectName("white_pawn_g")
        self.white_pawn_e = QtWidgets.QLabel(self.centralwidget)
        self.white_pawn_e.setGeometry(QtCore.QRect(270, 390, 50, 50))
        self.white_pawn_e.setStyleSheet("background-color: {};".format(self.white_background_color))
        self.white_pawn_e.setText("")
        self.white_pawn_e.setPixmap(QtGui.QPixmap("images/white_pawn.png"))
        self.white_pawn_e.setObjectName("white_pawn_e")
        self.white_bishop_f = QtWidgets.QLabel(self.centralwidget)
        self.white_bishop_f.setGeometry(QtCore.QRect(320, 440, 50, 50))
        self.white_bishop_f.setStyleSheet("background-color: {};".format(self.white_background_color))
        self.white_bishop_f.setText("")
        self.white_bishop_f.setPixmap(QtGui.QPixmap("images/white_bichop.png"))
        self.white_bishop_f.setObjectName("white_bishop_f")
        self.white_queen = QtWidgets.QLabel(self.centralwidget)
        self.white_queen.setGeometry(QtCore.QRect(220, 440, 50, 50))
        self.white_queen.setStyleSheet("background-color: {};".format(self.white_background_color))
        self.white_queen.setText("")
        self.white_queen.setPixmap(QtGui.QPixmap("images/white_queen.png"))
        self.white_queen.setObjectName("white_queen")
        self.white_pawn_c = QtWidgets.QLabel(self.centralwidget)
        self.white_pawn_c.setGeometry(QtCore.QRect(170, 390, 50, 50))
        self.white_pawn_c.setStyleSheet("background-color: {};".format(self.white_background_color))
        self.white_pawn_c.setText("")
        self.white_pawn_c.setPixmap(QtGui.QPixmap("images/white_pawn.png"))
        self.white_pawn_c.setObjectName("white_pawn_c")
        self.white_knight_b = QtWidgets.QLabel(self.centralwidget)
        self.white_knight_b.setGeometry(QtCore.QRect(120, 440, 50, 50))
        self.white_knight_b.setStyleSheet("background-color: {};".format(self.white_background_color))
        self.white_knight_b.setText("")
        self.white_knight_b.setPixmap(QtGui.QPixmap("images/white_knight.png"))
        self.white_knight_b.setObjectName("white_knight_b")
        self.white_pawn_a = QtWidgets.QLabel(self.centralwidget)
        self.white_pawn_a.setGeometry(QtCore.QRect(70, 390, 50, 50))
        self.white_pawn_a.setStyleSheet("background-color: {};".format(self.white_background_color))
        self.white_pawn_a.setText("")
        self.white_pawn_a.setPixmap(QtGui.QPixmap("images/white_pawn.png"))
        self.white_pawn_a.setObjectName("white_pawn_a")
        self.black_queen = QtWidgets.QLabel(self.centralwidget)
        self.black_queen.setGeometry(QtCore.QRect(220, 90, 50, 50))
        self.black_queen.setStyleSheet("background-color: {};".format(self.black_background_color))
        self.black_queen.setText("")
        self.black_queen.setPixmap(QtGui.QPixmap("images/black_queen.png"))
        self.black_queen.setObjectName("black_queen")
        self.white_pawn_h = QtWidgets.QLabel(self.centralwidget)
        self.white_pawn_h.setGeometry(QtCore.QRect(420, 390, 50, 50))
        self.white_pawn_h.setStyleSheet("background-color: {};".format(self.black_background_color))
        self.white_pawn_h.setText("")
        self.white_pawn_h.setPixmap(QtGui.QPixmap("images/white_pawn.png"))
        self.white_pawn_h.setObjectName("white_pawn_h")
        self.white_knight_g = QtWidgets.QLabel(self.centralwidget)
        self.white_knight_g.setGeometry(QtCore.QRect(370, 440, 50, 50))
        self.white_knight_g.setStyleSheet("background-color: {};".format(self.black_background_color))
        self.white_knight_g.setText("")
        self.white_knight_g.setPixmap(QtGui.QPixmap("images/white_knight.png"))
        self.white_knight_g.setObjectName("white_knight_g")
        self.white_pawn_f = QtWidgets.QLabel(self.centralwidget)
        self.white_pawn_f.setGeometry(QtCore.QRect(320, 390, 50, 50))
        self.white_pawn_f.setStyleSheet("background-color: {};".format(self.black_background_color))
        self.white_pawn_f.setText("")
        self.white_pawn_f.setPixmap(QtGui.QPixmap("images/white_pawn.png"))
        self.white_pawn_f.setObjectName("white_pawn_f")
        self.white_king = QtWidgets.QLabel(self.centralwidget)
        self.white_king.setGeometry(QtCore.QRect(270, 440, 50, 50))
        self.white_king.setStyleSheet("background-color: {};".format(self.black_background_color))
        self.white_king.setText("")
        self.white_king.setPixmap(QtGui.QPixmap("images/white_king.png"))
        self.white_king.setObjectName("white_king")
        self.white_pawn_d = QtWidgets.QLabel(self.centralwidget)
        self.white_pawn_d.setGeometry(QtCore.QRect(220, 390, 50, 50))
        self.white_pawn_d.setStyleSheet("background-color: {};".format(self.black_background_color))
        self.white_pawn_d.setText("")
        self.white_pawn_d.setPixmap(QtGui.QPixmap("images/white_pawn.png"))
        self.white_pawn_d.setObjectName("white_pawn_d")
        self.white_bishop_c = QtWidgets.QLabel(self.centralwidget)
        self.white_bishop_c.setGeometry(QtCore.QRect(170, 440, 50, 50))
        self.white_bishop_c.setStyleSheet("background-color: {};".format(self.black_background_color))
        self.white_bishop_c.setText("")
        self.white_bishop_c.setPixmap(QtGui.QPixmap("images/white_bichop.png"))
        self.white_bishop_c.setObjectName("white_bishop_c")
        self.white_pawn_b = QtWidgets.QLabel(self.centralwidget)
        self.white_pawn_b.setGeometry(QtCore.QRect(120, 390, 50, 50))
        self.white_pawn_b.setStyleSheet("background-color: {};".format(self.black_background_color))
        self.white_pawn_b.setText("")
        self.white_pawn_b.setPixmap(QtGui.QPixmap("images/white_pawn.png"))
        self.white_pawn_b.setObjectName("white_pawn_b")
        self.white_rook_a = QtWidgets.QLabel(self.centralwidget)
        self.white_rook_a.setGeometry(QtCore.QRect(70, 440, 50, 50))
        self.white_rook_a.setStyleSheet("background-color: {};".format(self.black_background_color))
        self.white_rook_a.setText("")
        self.white_rook_a.setPixmap(QtGui.QPixmap("images/white_rook.png"))
        self.white_rook_a.setObjectName("white_rook_a")
        self.black_pawn_a = QtWidgets.QLabel(self.centralwidget)
        self.black_pawn_a.setGeometry(QtCore.QRect(70, 140, 50, 50))
        self.black_pawn_a.setStyleSheet("background-color: {};".format(self.black_background_color))
        self.black_pawn_a.setText("")
        self.black_pawn_a.setPixmap(QtGui.QPixmap("images/black_pawn.png"))
        self.black_pawn_a.setObjectName("black_pawn_a")
        self.black_pawn_g = QtWidgets.QLabel(self.centralwidget)
        self.black_pawn_g.setGeometry(QtCore.QRect(370, 140, 50, 50))
        self.black_pawn_g.setStyleSheet("background-color: {};".format(self.black_background_color))
        self.black_pawn_g.setText("")
        self.black_pawn_g.setPixmap(QtGui.QPixmap("images/black_pawn.png"))
        self.black_pawn_g.setObjectName("black_pawn_g")
        self.black_rook_h = QtWidgets.QLabel(self.centralwidget)
        self.black_rook_h.setGeometry(QtCore.QRect(420, 90, 50, 50))
        self.black_rook_h.setStyleSheet("background-color: {};".format(self.black_background_color))
        self.black_rook_h.setText("")
        self.black_rook_h.setPixmap(QtGui.QPixmap("images/black_rook.png"))
        self.black_rook_h.setObjectName("black_bishop_h")
        self.black_pawn_c = QtWidgets.QLabel(self.centralwidget)
        self.black_pawn_c.setGeometry(QtCore.QRect(170, 140, 50, 50))
        self.black_pawn_c.setStyleSheet("background-color: {};".format(self.black_background_color))
        self.black_pawn_c.setText("")
        self.black_pawn_c.setPixmap(QtGui.QPixmap("images/black_pawn.png"))
        self.black_pawn_c.setObjectName("black_pawn_c")
        self.black_pawn_e = QtWidgets.QLabel(self.centralwidget)
        self.black_pawn_e.setGeometry(QtCore.QRect(270, 140, 50, 50))
        self.black_pawn_e.setStyleSheet("background-color: {};".format(self.black_background_color))
        self.black_pawn_e.setText("")
        self.black_pawn_e.setPixmap(QtGui.QPixmap("images/black_pawn.png"))
        self.black_pawn_e.setObjectName("black_pawn_e")
        self.black_bishop_f = QtWidgets.QLabel(self.centralwidget)
        self.black_bishop_f.setGeometry(QtCore.QRect(320, 90, 50, 50))
        self.black_bishop_f.setStyleSheet("background-color: {};".format(self.black_background_color))
        self.black_bishop_f.setText("")
        self.black_bishop_f.setPixmap(QtGui.QPixmap("images/black_bishop.png"))
        self.black_bishop_f.setObjectName("black_bishop_f")
        self.black_knight_b = QtWidgets.QLabel(self.centralwidget)
        self.black_knight_b.setGeometry(QtCore.QRect(120, 90, 50, 50))
        self.black_knight_b.setStyleSheet("background-color: {};".format(self.black_background_color))
        self.black_knight_b.setText("")
        self.black_knight_b.setPixmap(QtGui.QPixmap("images/black_knight.png"))
        self.black_knight_b.setObjectName("black_knigt_b")
        self.label_a = QtWidgets.QLabel(self.centralwidget)
        self.label_a.setGeometry(QtCore.QRect(70, 490, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(40)
        font.setBold(True)
        self.label_a.setFont(font)
        self.label_a.setStyleSheet("background-color: {};".format(self.background_color))
        self.label_a.setAlignment(QtCore.Qt.AlignCenter)
        self.label_a.setWordWrap(False)
        self.label_a.setObjectName("label_a")
        self.label_b = QtWidgets.QLabel(self.centralwidget)
        self.label_b.setGeometry(QtCore.QRect(120, 490, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(40)
        font.setBold(True)
        self.label_b.setFont(font)
        self.label_b.setStyleSheet("background-color: {};".format(self.background_color))
        self.label_b.setAlignment(QtCore.Qt.AlignCenter)
        self.label_b.setWordWrap(False)
        self.label_b.setObjectName("label_b")
        self.label_c = QtWidgets.QLabel(self.centralwidget)
        self.label_c.setGeometry(QtCore.QRect(170, 490, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(40)
        font.setBold(True)
        self.label_c.setFont(font)
        self.label_c.setStyleSheet("background-color: {};".format(self.background_color))
        self.label_c.setAlignment(QtCore.Qt.AlignCenter)
        self.label_c.setWordWrap(False)
        self.label_c.setObjectName("label_c")
        self.label_d = QtWidgets.QLabel(self.centralwidget)
        self.label_d.setGeometry(QtCore.QRect(220, 490, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(40)
        font.setBold(True)
        self.label_d.setFont(font)
        self.label_d.setStyleSheet("background-color: {};".format(self.background_color))
        self.label_d.setAlignment(QtCore.Qt.AlignCenter)
        self.label_d.setWordWrap(False)
        self.label_d.setObjectName("label_d")
        self.label_e = QtWidgets.QLabel(self.centralwidget)
        self.label_e.setGeometry(QtCore.QRect(270, 490, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(40)
        font.setBold(True)
        self.label_e.setFont(font)
        self.label_e.setStyleSheet("background-color: {};".format(self.background_color))
        self.label_e.setAlignment(QtCore.Qt.AlignCenter)
        self.label_e.setWordWrap(False)
        self.label_e.setObjectName("label_e")
        self.label_f = QtWidgets.QLabel(self.centralwidget)
        self.label_f.setGeometry(QtCore.QRect(320, 490, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(40)
        font.setBold(True)
        self.label_f.setFont(font)
        self.label_f.setStyleSheet("background-color: {};".format(self.background_color))
        self.label_f.setAlignment(QtCore.Qt.AlignCenter)
        self.label_f.setWordWrap(False)
        self.label_f.setObjectName("label_f")
        self.label_g = QtWidgets.QLabel(self.centralwidget)
        self.label_g.setGeometry(QtCore.QRect(370, 490, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(40)
        font.setBold(True)
        self.label_g.setFont(font)
        self.label_g.setStyleSheet("background-color: {};".format(self.background_color))
        self.label_g.setAlignment(QtCore.Qt.AlignCenter)
        self.label_g.setWordWrap(False)
        self.label_g.setObjectName("label_g")
        self.label_h = QtWidgets.QLabel(self.centralwidget)
        self.label_h.setGeometry(QtCore.QRect(420, 490, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(40)
        font.setBold(True)
        self.label_h.setFont(font)
        self.label_h.setStyleSheet("background-color: {};".format(self.background_color))
        self.label_h.setAlignment(QtCore.Qt.AlignCenter)
        self.label_h.setWordWrap(False)
        self.label_h.setObjectName("label_h")
        self.label_1 = QtWidgets.QLabel(self.centralwidget)
        self.label_1.setGeometry(QtCore.QRect(20, 440, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(40)
        font.setBold(True)
        self.label_1.setFont(font)
        self.label_1.setStyleSheet("background-color: {};".format(self.background_color))
        self.label_1.setAlignment(QtCore.Qt.AlignCenter)
        self.label_1.setWordWrap(False)
        self.label_1.setObjectName("label_1")
        self.label_2 = QtWidgets.QLabel(self.centralwidget)
        self.label_2.setGeometry(QtCore.QRect(20, 390, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(40)
        font.setBold(True)
        self.label_2.setFont(font)
        self.label_2.setStyleSheet("background-color: {};".format(self.background_color))
        self.label_2.setAlignment(QtCore.Qt.AlignCenter)
        self.label_2.setWordWrap(False)
        self.label_2.setObjectName("label_2")
        self.label_3 = QtWidgets.QLabel(self.centralwidget)
        self.label_3.setGeometry(QtCore.QRect(20, 340, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(40)
        font.setBold(True)
        self.label_3.setFont(font)
        self.label_3.setStyleSheet("background-color: {};".format(self.background_color))
        self.label_3.setAlignment(QtCore.Qt.AlignCenter)
        self.label_3.setWordWrap(False)
        self.label_3.setObjectName("label_3")
        self.label_4 = QtWidgets.QLabel(self.centralwidget)
        self.label_4.setGeometry(QtCore.QRect(20, 290, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(40)
        font.setBold(True)
        self.label_4.setFont(font)
        self.label_4.setStyleSheet("background-color: {};".format(self.background_color))
        self.label_4.setAlignment(QtCore.Qt.AlignCenter)
        self.label_4.setWordWrap(False)
        self.label_4.setObjectName("label_4")
        self.label_5 = QtWidgets.QLabel(self.centralwidget)
        self.label_5.setGeometry(QtCore.QRect(20, 240, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(40)
        font.setBold(True)
        self.label_5.setFont(font)
        self.label_5.setStyleSheet("background-color: {};".format(self.background_color))
        self.label_5.setAlignment(QtCore.Qt.AlignCenter)
        self.label_5.setWordWrap(False)
        self.label_5.setObjectName("label_5")
        self.label_6 = QtWidgets.QLabel(self.centralwidget)
        self.label_6.setGeometry(QtCore.QRect(20, 190, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(40)
        font.setBold(True)
        self.label_6.setFont(font)
        self.label_6.setStyleSheet("background-color: {};".format(self.background_color))
        self.label_6.setAlignment(QtCore.Qt.AlignCenter)
        self.label_6.setWordWrap(False)
        self.label_6.setObjectName("label_6")
        self.label_7 = QtWidgets.QLabel(self.centralwidget)
        self.label_7.setGeometry(QtCore.QRect(20, 140, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(40)
        font.setBold(True)
        self.label_7.setFont(font)
        self.label_7.setStyleSheet("background-color: {};".format(self.background_color))
        self.label_7.setAlignment(QtCore.Qt.AlignCenter)
        self.label_7.setWordWrap(False)
        self.label_7.setObjectName("label_7")
        self.label_8 = QtWidgets.QLabel(self.centralwidget)
        self.label_8.setGeometry(QtCore.QRect(20, 90, 50, 50))
        font = QtGui.QFont()
        font.setPointSize(40)
        font.setBold(True)
        self.label_8.setFont(font)
        self.label_8.setStyleSheet("background-color: {};".format(self.background_color))
        self.label_8.setAlignment(QtCore.Qt.AlignCenter)
        self.label_8.setWordWrap(False)
        self.label_8.setObjectName("label_8")
        self.setCentralWidget(self.centralwidget)
        self.menubar = QtWidgets.QMenuBar(self)
        self.menubar.setGeometry(QtCore.QRect(0, 0, 592, 24))
        self.menubar.setObjectName("menubar")
        self.setMenuBar(self.menubar)
        self.statusbar = QtWidgets.QStatusBar(self)
        self.statusbar.setObjectName("statusbar")
        self.setStatusBar(self.statusbar)

        self.retranslateUi()
        QtCore.QMetaObject.connectSlotsByName(self)

        self.board.cells = {'a1': self.white_rook_a, 'b1': self.white_knight_b, 'c1': self.white_bishop_c,
                            'd1': self.white_queen,
                            'e1': self.white_king, 'f1': self.white_bishop_f, 'g1': self.white_knight_g,
                            'h1': self.white_rook_h,
                            'a2': self.white_pawn_a, 'b2': self.white_pawn_b, 'c2': self.white_pawn_c,
                            'd2': self.white_pawn_d,
                            'e2': self.white_pawn_e, 'f2': self.white_pawn_f, 'g2': self.white_pawn_g,
                            'h2': self.white_pawn_h,
                            'a7': self.black_pawn_a, 'b7': self.black_pawn_b, 'c7': self.black_pawn_c,
                            'd7': self.black_pawn_d,
                            'e7': self.black_pawn_e, 'f7': self.black_pawn_f, 'g7': self.black_pawn_g,
                            'h7': self.black_pawn_h,
                            'a8': self.black_rook_a, 'b8': self.black_knight_b, 'c8': self.black_bishop_c,
                            'd8': self.black_queen,
                            'e8': self.black_king, 'f8': self.black_bishop_f, 'g8': self.black_knight_g,
                            'h8': self.black_rook_h,
                            }
        for coordinate in self.board.cells:
            self.board.cells[coordinate].coordinate = coordinate
        for x in 'abcdefgh':
            for y in '3456':
                self.board.cells[x+y] = None
        self.is_figure_taken = False
        self.selected_figure = None
        self.selected_cell = None

        self.cells_geometry_color = {}
        for x in range(8):
            for y in range(8):
                cell = 'abcdefgh'[x] + '87654321'[y]
                geometry = (self.board.x() + self.board.width() * x // 8, self.board.y() + self.board.height() * y // 8, 50, 50)
                color = 'white' if (x+y) % 2 == 0 else 'black'
                self.cells_geometry_color[cell] = (geometry, color)

        self.setMouseTracking(True)

    def retranslateUi(self):
        _translate = QtCore.QCoreApplication.translate
        self.setWindowTitle(_translate("MainWindow", "MainWindow"))
        self.label_a.setText(_translate("MainWindow", "a"))
        self.label_b.setText(_translate("MainWindow", "b"))
        self.label_c.setText(_translate("MainWindow", "c"))
        self.label_d.setText(_translate("MainWindow", "d"))
        self.label_e.setText(_translate("MainWindow", "e"))
        self.label_f.setText(_translate("MainWindow", "f"))
        self.label_g.setText(_translate("MainWindow", "g"))
        self.label_h.setText(_translate("MainWindow", "h"))
        self.label_1.setText(_translate("MainWindow", "1"))
        self.label_2.setText(_translate("MainWindow", "2"))
        self.label_3.setText(_translate("MainWindow", "3"))
        self.label_4.setText(_translate("MainWindow", "4"))
        self.label_5.setText(_translate("MainWindow", "5"))
        self.label_6.setText(_translate("MainWindow", "6"))
        self.label_7.setText(_translate("MainWindow", "7"))
        self.label_8.setText(_translate("MainWindow", "8"))

    def mousePressEvent(self, a0: QtGui.QMouseEvent):
        x_click, y_click = a0.x(), a0.y()
        if self.board.x() <= x_click <= self.board.x() + self.board.width():
            if self.board.y() <= y_click <= self.board.y() + self.board.height():
                self.click_on_board(x_click, y_click)

    def click_on_board(self, x_click, y_click):
        Ox = 'abcdefgh'
        Oy = '87654321'
        cell = Ox[(x_click - self.board.x()) // (self.board.width() // 8)] + Oy[
            (y_click - self.board.y()) // (self.board.height() // 8)]
        if not self.is_figure_taken:
            if self.board.cells[cell] is not None:
                self.take_figure(cell)
        elif self.is_figure_taken:
            self.move(cell)

    def take_figure(self, cell):
        figure = self.board.cells[cell]
        figure.setStyleSheet("background-color: {};".format(self.selected_background_color))
        self.is_figure_taken = True
        self.selected_figure = figure
        self.selected_cell = cell

    def move(self, cell):
        if self.check_move(cell):
            self.selected_figure.setGeometry(*self.cells_geometry_color[cell][0])
            if self.cells_geometry_color[cell][1] == 'white':
                self.selected_figure.setStyleSheet("background-color: {};".format(self.white_background_color))
            elif self.cells_geometry_color[cell][1] == 'black':
                self.selected_figure.setStyleSheet("background-color: {};".format(self.black_background_color))
            self.board.cells[self.selected_cell] = None
            if self.board.cells[cell] is not None:
                self.board.cells[cell].deleteLater()
            self.board.cells[cell] = self.selected_figure
            self.is_figure_taken = False
            self.selected_figure = None
            self.selected_cell = None
        else:
            if self.cells_geometry_color[self.selected_cell][1] == 'white':
                self.selected_figure.setStyleSheet("background-color: {};".format(self.white_background_color))
            elif self.cells_geometry_color[self.selected_cell][1] == 'black':
                self.selected_figure.setStyleSheet("background-color: {};".format(self.black_background_color))
            self.is_figure_taken = False
            self.selected_figure = None
            self.selected_cell = None

    def check_move(self, cell):
        move = self.selected_cell + cell
        return self.game.check_move(move)


class App:
    def __init__(self, game):
        self.app = QtWidgets.QApplication(sys.argv)
        self.window = MainWindow(game)
        self.window.show()
        sys.exit(self.app.exec_())
